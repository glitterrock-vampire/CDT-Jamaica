import{defineConfig as l,renderStudio as p}from"sanity";import{structureTool as d}from"sanity/structure";import{visionTool as m}from"@sanity/vision";const a=e=>e.required(),c=e=>e.uri({scheme:["http","https","mailto","tel"]}),u={name:"repertoireItem",title:"Repertoire Item",type:"document",fields:[{name:"title",title:"Title",type:"string",description:"The title of the piece",validation:e=>e.required()},{name:"subtitle",title:"Subtitle",type:"string",description:"Optional subtitle for the piece"},{name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:a,description:"The URL-friendly version of the title (auto-generated from title)"},{name:"choreographer",title:"Choreographer",type:"string",validation:a,description:"The name of the choreographer"},{name:"companyPremiere",title:"Company Premiere",type:"string",description:"When and where the company first performed this piece"},{name:"music",title:"Music Credits",type:"array",of:[{type:"string"}],description:"List of music credits"},{name:"costumeDesign",title:"Costume Design",type:"string",description:"Name of the costume designer"},{name:"lighting",title:"Lighting",type:"string",description:"Name of the lighting designer"},{name:"runTime",title:"Run Time",type:"string",description:"Run time in MM:SS format (e.g., 03:45)",validation:e=>e.custom(i=>{if(!i)return!0;const r=String(i).trim();if(!/^\d{1,2}:\d{2}(?::\d{2})?$/.test(r))return"Invalid format. Please enter as MM:SS or H:MM:SS (e.g., 3:45 or 1:23:45)";const t=r.split(":"),n=parseInt(t[t.length-2],10),o=parseInt(t[t.length-1],10);return n>59?"Minutes cannot be more than 59":o>59?"Seconds cannot be more than 59":!0})},{name:"worldPremiere",title:"World Premiere",type:"string",description:"When and where the piece was first performed"},{name:"description",title:"Description",type:"array",of:[{type:"block",styles:[{title:"Normal",value:"normal"},{title:"H1",value:"h1"},{title:"H2",value:"h2"},{title:"H3",value:"h3"},{title:"Quote",value:"blockquote"}]}],description:"Detailed description of the piece"},{name:"mediaReviews",title:"Media Reviews",type:"array",of:[{type:"object",fields:[{name:"quote",title:"Quote",type:"text",rows:3,validation:a},{name:"source",title:"Source",type:"string",validation:a},{name:"author",title:"Author",type:"string"},{name:"year",title:"Year",type:"string"},{name:"url",title:"URL",type:"url",validation:c}]}],description:"Notable reviews or quotes about the piece"},{name:"year",title:"Year",type:"number",description:"Year of the world premiere"},{name:"thumbnail",title:"Thumbnail Image",type:"image",options:{hotspot:!0},description:"Thumbnail image for the piece (square format)"},{name:"heroImage",title:"Hero Image",type:"image",options:{hotspot:!0},description:"Hero image for the piece (landscape format)"},{name:"galleryImages",title:"Gallery Images",type:"array",of:[{type:"image",options:{hotspot:!0,metadata:["blurhash","lqip","palette","exif","location"]},fields:[{name:"alt",title:"Alt Text",type:"string",description:"Alternative text for accessibility"},{name:"caption",title:"Caption",type:"string",description:"Optional caption for the image"}]}],description:"Additional images for the gallery section (up to 10 images recommended)",validation:e=>e.max(10).warning("Consider limiting to 10 images for optimal performance")},{name:"youtubeId",title:"YouTube ID",type:"string",description:"The YouTube video ID (e.g., 4QnwZ0OlmUk)"},{name:"seo",title:"SEO",type:"object",fields:[{name:"title",title:"SEO Title",type:"string",description:"Title for search engines"},{name:"description",title:"SEO Description",type:"text",rows:2,description:"Description for search engines"}]}],preview:{select:{title:"title",subtitle:"choreographer",media:"thumbnail",altMedia:"heroImage",year:"year"},prepare(e){const{title:i,subtitle:r,media:t,altMedia:n,year:o}=e,s=t||n;return{title:i||"Untitled",subtitle:[r,o||""].filter(Boolean).join(" â€¢ "),media:s}}}},g={name:"siteSettings",title:"Site Settings",type:"document",__experimental_actions:["update","publish"],fields:[{name:"title",title:"Site Title",type:"string",validation:e=>e.required()},{name:"lightLogo",title:"Light Mode Logo",type:"image",description:"Logo to be displayed in light mode",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessibility",validation:e=>e.required()}],validation:e=>e.required()},{name:"darkLogo",title:"Dark Mode Logo",type:"image",description:"Logo to be displayed in dark mode",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessibility",validation:e=>e.required()}],validation:e=>e.required()},{name:"heroImage",title:"Hero Image",type:"image",description:"This image will be used as the hero image in the navigation bar",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessibility",options:{isHighlighted:!0},validation:e=>e.required()}],validation:e=>e.required()},{name:"description",title:"Site Description",type:"text",description:"Description of the website for SEO purposes"}]},h=l({name:"default",title:"CDT",projectId:"sbvvl9vs",dataset:"production",apiVersion:"2023-05-03",useCdn:!0,plugins:[d(),m()],schema:{types:[u,g]},server:{cors:{origin:["http://localhost:3000","http://localhost:3333","https://cdt-jamaica.vercel.app","https://cdt-jamaica-*.vercel.app"],credentials:!0}}});p(document.getElementById("sanity"),h,{reactStrictMode:!1,basePath:"/"});
